<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.digitalchina.sport.mgr.resource.dao.YearStrategyDao" >
    <insert id="insertYearStrategyTicket" parameterType="YearStrategyTicketModel">
        INSERT INTO `szsport_order_mgr`.`year_strategy_ticket_basic_info`
        (
            `id`,
            `ticket_type`,
            `ticket_name`,
            `merchant_id`,
            `sell_way`,
            `order_effective_type`,
            `order_effective_start_time`,
            `order_effective_end_time`,
            `order_refund_rule`,
            `check_ticket_type`,
            `check_ticket_way`,
            `check_ticket_available_times`,
            `check_daily_limited_times`,
            `check_limited_date_type`,
            `check_limited_week_details`,
            `check_limited_hours`,
            `order_description`,
            `refund_description`
        )
        VALUES (
                #{id},
                #{ticketType},
                #{ticketName},
                #{merchantId},
                #{sellWay},
                #{orderEffectiveType},
                #{orderEffectiveStartTime},
                #{orderEffectiveEndTime},
                #{orderRefundRule},
                #{checkTicketType},
                #{checkTicketWay},
                #{checkTicketAvailableTimes},
                #{checkDailyLimitedTimes},
                #{checkLimitedDateType},
                #{checkLimitedWeekDetails},
                #{checkLimitedHours},
                #{orderDescription},
                #{refundDescription}
            );
    </insert>
    <!--批量添加年票生成策略与子场馆对应关系-->
    <insert id="insertYearStrategyStadiumRelationsList" parameterType="List">
        INSERT INTO `szsport_order_mgr`.`year_strategy_stadium_relations` (
        `id`,
        `ticket_strategy_id`,
        `sub_stadium_id`
        )
        VALUES
        <foreach collection="list" index="index" item="item" open="" separator="," close="">
            (#{item.id}, #{item.ticketStrategyId}, #{item.subStadiumId})
        </foreach>
    </insert>

    <!--批量添加年票策略可用时间段-->
    <insert id="insertYearStrategyTicketCheckUseableTimeList" parameterType="List">
        INSERT INTO `szsport_order_mgr`.`year_strategy_ticket_check_useable_time` (
        `id`,
        `ticket_strategy_id`,
        `check_limited_date_type`,
        `useable_start_time`,
        `useable_end_time`
        )
        VALUES
        <foreach collection="list" index="index" item="item" open="" separator="," close="">
            (#{item.id},#{item.ticketStrategyId},#{item.checkLimitedDateType}, #{item.useableStartTime},#{item.useableEndTime})
        </foreach>
    </insert>
    <!--批量添加年票策略可用时间段-->
    <insert id="insertTicketStrategyCommonCheckShieldTimeModel" parameterType="List">
        INSERT INTO `szsport_order_mgr`.`ticket_strategy_common_check_shield_time` (
        `id`,
        `ticket_type`,
        `ticket_strategy_id`,
        `shield_start_time`,
        `shield_end_time`
        )
        VALUES
        <foreach collection="list" index="index" item="item" open="" separator="," close="">
            (#{item.id},#{item.ticketType}, #{item.ticketStrategyId}, #{item.shieldStartTime}, #{item.shieldEndTime})
        </foreach>
    </insert>
</mapper>