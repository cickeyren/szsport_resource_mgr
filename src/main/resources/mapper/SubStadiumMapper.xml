<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.digitalchina.sport.mgr.resource.dao.SubStadiumMapper" >
  <resultMap id="BaseResultMap" type="com.digitalchina.sport.mgr.resource.model.SubStadium" >
    <!--
      WARNING - @mbggenerated
    -->
    <id column="id" property="id" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="classify" property="classify" jdbcType="VARCHAR" />
    <result column="parent_id" property="parentId" jdbcType="VARCHAR" />
    <result column="status" property="status" jdbcType="VARCHAR" />
    <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
  </resultMap>
  <resultMap id="ResultMapWithBLOBs" type="com.digitalchina.sport.mgr.resource.model.SubStadium" extends="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
    -->
    <result column="introduction" property="introduction" jdbcType="LONGVARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
    -->
    id, name, classify, parent_id, status, create_time
  </sql>
  <sql id="Blob_Column_List" >
    <!--
      WARNING - @mbggenerated
    -->
    introduction
  </sql>
  <select id="getAllSubStadiumByParentId" resultType="java.util.Map" parameterType="HashMap">
    select
    id, name, classify, parent_id,(case status when '1' then '正常' WHEN '0' THEN '闭馆' WHEN '2' THEN '作废' ELSE '其他' END) as status , create_time
    from sub_stadium
    <where>
      <choose>
        <when test="parent_id !=null and parent_id !='' ">
          parent_id=#{parent_id}
        </when>
        <otherwise>
          1&lt;&gt;1
        </otherwise>
      </choose>
      and status='1'
    </where>
  </select>

</mapper>